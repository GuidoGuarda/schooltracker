{% extends 'base.html' %}

{% block title %}SchoolTracker - Listar Alunos{% endblock %}
{% block body_class %}body-listaaluno{% endblock %}

{% block content %}
<div class="container espacamento">
    <div class="row justify-content-center align-items-center" style="height: 20vh;">
        <div class="container mt-5 caixa-forms">
            {% if alunos %}
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">RA</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Tempo de Estudo</th>
                    <th scope="col">Renda Familiar</th>
                </tr>
                </thead>
                <tbody>
                {% for aluno in alunos %}
                <tr>
                    <td scope="row">{{ aluno.ra }}</td>
                    <td>{{ aluno.nome }}</td>
                    <td>{{ aluno.tempoestudo }}</td>
                    <td>{{ aluno.rendafamiliar }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>

            <!-- Navegação de Paginação -->
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    {% if page > 1 %}
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('listar_alunos', page=1) }}" aria-label="Primeira">
                                <span aria-hidden="true">&laquo;&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('listar_alunos', page=page-1) }}" aria-label="Anterior">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    {% endif %}

                    {% for num in range(1, total_pages + 1) %}
                        {% if num == page %}
                            <li class="page-item active" aria-current="page">
                                <span class="page-link">{{ num }}</span>
                            </li>
                        {% else %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('listar_alunos', page=num) }}">{{ num }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}

                    {% if page < total_pages %}
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('listar_alunos', page=page+1) }}" aria-label="Próxima">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('listar_alunos', page=total_pages) }}" aria-label="Última">
                                <span aria-hidden="true">&raquo;&raquo;</span>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
            {% else %}
            <p>Nenhum aluno cadastrado!</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
